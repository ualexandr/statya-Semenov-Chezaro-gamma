Результаты данного пункта получены совместно с А.С. Усачёвым.

Пусть на множестве $\Omega=\{0,1\}^\mathbb{N}$ задана вероятностная мера <<честной монетки>> $\mu$.
Тогда, согласно~\cite{connor1990almost}, $\mu(\Omega\cap ac)=0$.
Применим этот результат к нахождению меры множества $W$,
введённого в~\cite[\S 5]{Semenov2014geomprops}.

Пусть $W$~--- множество всех последовательностей $\chi_e$, где $e =\bigcup_{k=1}^{\infty} [n_{2k-1}, n_{2k} )$
и $\{n_k \}_{k=1}^{\infty}$
удовлетворяет условию
\begin{equation}
	\label{eq:lim_j_n_kj_measure}
	\lim_{j\to\infty}\frac{n_{k+j} - n_k}{j} = \infty
\end{equation}
равномерно по $k \in \mathbb{N}$.

Вероятностная мера <<честной монетки>> означает,
что каждая последовательность из нулей и единиц соответствует бесконечной серии
бросков честной монетки, причём выпадение орла означает нуль, а выпадение решки~--- единицу.
%(В практических целях рекомендуем читателю использовать рубль, поскольку он падает быстрее и охотнее.)
%TODO: выпилить!!!!
Тогда мера подмножества $\omega\subset\Omega$
равна вероятности события <<выпала одна из серий монетки, закодированных в $\omega$>>.
Например, $\mu(\Omega)=1$, $\mu(\{x\in\Omega:x_1=1, x_2=0\})=1/4$.

Введём теперь нелинейную биекцию $Q:\Omega\leftrightarrow\Omega$ по следующему правилу:
\begin{equation}
	(Qx)_k = \begin{cases}
		x_k, &\mbox{если~} k = 1,
		\\
		|x_k-x_{k-1}|&\mbox{иначе}.
	\end{cases}
\end{equation}

\begin{remark}
	Может показаться, что оператор $Q$ очень сходен с оператором границы последовательности $\operatorname{bd}$
	~\cite{keller1992invariant},
	однако это не так.
\end{remark}

\begin{example}
	\begin{equation}
		\begin{array}{rl}
			                   x &= (0,0,0,1,1,1,0,0,0,0,0,1,1,1,1,1,0,...)
			\\
			\operatorname{bd}(x) &= (0,0,0,1,0,1,0,0,0,0,0,1,0,0,0,1,0,...)
			\\
			                  Qx &= (0,0,0,1,0,0,1,0,0,0,0,1,0,0,0,0,1,...)
		\end{array}
	\end{equation}
\end{example}

\begin{example}
	Но всё меняется, когда в последовательности достаточно часто встречаются блоки $(...,0,1,0,...)$
	(а по закону больших чисел они будут встречаться с большой вероятностью).
	\begin{equation}
		\begin{array}{rl}
			                   x &= (0,0,1,1,0,1,0,1,0,0,0,...)
			\\
			\operatorname{bd}(x) &= (0,0,1,1,0,1,0,1,0,0,0,...)
			\\
			                  Qx &= (0,0,1,0,1,1,1,1,1,0,0,...)
		\end{array}
	\end{equation}
\end{example}


\begin{lemma}
	Биекция $Q$ сохраняет меру множества.
\end{lemma}

\paragraph{Идея.}
	Пусть последовательность $x$ соответствует серии бросков монетки так, как описано выше.
	Будем теперь интерпретировать ту же самую серию бросков иначе.
	Первый бросок интерпретируем так же,
	а начиная со второго сопоставим нулю событие <<выпала та же сторона монетки, что и в прошлый раз>>,
	а единице~--- противоположное событие.
	Cобытия <<выпала решка>> и <<выпала та же сторона монетки, что и в прошлый раз>> независимы
	и вероятность каждого из них равна $1/2$.
	Осталось заметить, что новая интерпретация той же серии бросков дала нам последовательность $Qx$.
\begin{proof}
	В рамках данного доказательства будем соотносить последовательности из нулей и единиц
	с точками полуинтервала $[0;1)$, представленными в виде двоичных дробей.
	Назовём двоичным отрезком множество последовательностей из $\Omega$,
	в котором первые $k$ координат зафиксированы, а остальные выбираются произвольно.
	Двоичный отрезок действительно соответствует отрезку длины $1/2^k$,
	состоящему из двоичных дробей, в которых первые $k$ цифр после запятой зафиксированы,
	а остальные выбираются произвольно.

	Заметим, что $Q$ отображает двоичный отрезок длины $1/2^k$ в двоичный отрезок длины $1/2^k$.
	Так как любой отрезок может быть представлен в виде объединения не более чем счётного числа
	двоичных отрезков, то $Q$ сохраняет меру любого отрезка.
	В силу биективности $Q$ отсюда следует, что $Q$ сохраняет меру любого борелевского множества
	(так как сигма-алгебра борелевских множеств порождается отрезками).
\end{proof}

\paragraph{Замечание.}
На самом деле соответствие точек отрезка и последовательностей из нулей и единиц не однозначно,
а почти однозначно: например, точка $1/2$ может быть с равным успехом
представлена как $x_1=0.01111...$ и как $x_2=0.10000...$.
Однако $Qx_1 = 0.010000...$, а $Qx_2=0.100000$.

%TODO: аккуратно объяснить этот момент.

%Усачёв: неоднозначность разложения двоично-рациональных чисел нужно обсудить до введения оператора Q.
%Иначе он неоднозначно определен.

Представляется целесообразным отказаться не от записи $x_1$ (как это обычно принимается),
а от записи $x_2$, поскольку все последовательности, стабилизирующиеся на нуле,
биекция $Q$ переводит в последовательности, стабилизирующиеся на нуле.
Более того, мера множества всех последовательностей, стабилизирующихся на нуле, равна нулю,
поэтому их исключение из рассмотрения не мешает доказательству.

Несмотря на это, дадим здесь ещё одно
\begin{proof}
	Доказательство из~\cite{connor1990almost} использует наименьшую $\sigma$--алгебру $\mathcal{S}$,
	содержащую множества
	\begin{equation}
		\Omega_i = \{x\in\Omega: x_i = 1\}
		.
	\end{equation}
	Очевидно, что $\mathcal{S}$~--- это также и наименьшая $\sigma$--алгебра, содержащая множества
	$\Omega^*_{i,j}$ последовательностей, в которых зафиксированы первые $i$ координат.
	Как мы уже знаем, $\mu(\Omega^*_{i,j}) = \mu(Q\Omega^*_{i,j})$.
	Так как $Q$~--- биекция, то $\mu^*(A) = \mu(QA)$~--- мера.
	Действтельно, неотрицательность $\mu^*(A)$ очевидна.
	Покажем выполнение аксиомы счётной аддитивности.
	Пусть $A_i \cap A_j = \varnothing$ при $i\neq j$,
	тогда в силу биективности $Q$ имеем $QA_i \cap QA_j = \varnothing$ и
	\begin{equation}
		\mu^*\left( \bigcup_i A_i \right)
		=
		\mu\left( Q \bigcup_i A_i \right)
		=
		\mu\left( \bigcup_i QA_i \right)
		=
		\sum_i 	\mu( QA_i )
		=
		\sum_i 	\mu^*( A_i )
		.
	\end{equation}
	Согласно теореме Каратеодори,
	если две меры совпадают на некоторой системе подмножеств $\mathcal{S}^*$,
	то они совпадают и на минимальной $\sigma$--алгебре, содержащей $\mathcal{S}^*$.
	Следовательно, биекция $Q$ действительно сохраняет меру.
\end{proof}

%NB: это скользкий момент.
%Не всякая биекция сохраняет меру,
%но тут вроде как спасает то, что мы интерпретируем ту же самую последовательность бросков двумя разными способами.

Равномерное стремление~\eqref{eq:lim_j_n_kj_measure}
буквально означает, что
\begin{equation}
	\forall(A>0)\exists(j_A\in\mathbb{N})\forall(j > j_A)\forall(k\in\mathbb{N})
	\left[
		\frac{n_{k+j}-n_k}{j}>A
	\right]
	.
\end{equation}
Так как последнее неравенство выполнено для любого $k$,
то оно верно и для нижнего предела по $k$:
\begin{equation}
	\forall(A>0)\exists(j_A\in\mathbb{N})\forall(j > j_A)
	\left[
		\liminf_{k\to\infty}\frac{n_{k+j}-n_k}{j}>A
	\right]
	.
\end{equation}
<<Свернув>> определение предела по $j$ из кванторной записи, получаем:
\begin{equation}
	\lim_{j\to\infty}\liminf_{k\to\infty}\frac{n_{k+j}-n_k}{j} = \infty
	,
\end{equation}
откуда по лемме~\ref{thm:lim_M(j)/j_dost} немедленно имеем $QW \subset \Omega\cap ac_0$.
Тогда
\begin{equation}
	0 \leq \mu(W) = \mu(QW) \leq \mu(\Omega\cap ac_0) \leq \mu(\Omega\cap ac) = 0
	,
\end{equation}
откуда $\mu(W)=0$.

\begin{hypothesis}
	Включение $QW\subset \Omega\cap ac_0$ собственное.
\end{hypothesis}
